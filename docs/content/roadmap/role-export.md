# 角色列表导出功能

> **状态**: ✅ 已完成
> **优先级**: 低
> **完成日期**: 2024-11-30

<!--TOC-->

## Table of Contents

- [需求背景](#需求背景) `:22+4`
- [已实现功能](#已实现功能) `:26+22`
  - [导出特性](#导出特性) `:28+7`
  - [导出字段](#导出字段) `:35+13`
- [技术实现](#技术实现) `:48+18`
  - [代码位置](#代码位置) `:50+9`
  - [使用方式](#使用方式) `:59+7`
- [复用说明](#复用说明) `:66+3`

<!--TOC-->

## 需求背景

管理员需要导出角色配置，用于备份、审计或文档生成。

## 已实现功能

### 导出特性

- 一键导出角色列表为 CSV 文件
- 支持搜索过滤后导出
- UTF-8 编码，支持中文（含 BOM）
- 包含权限列表详情

### 导出字段

| 字段     | 说明               |
| -------- | ------------------ |
| ID       | 角色 ID            |
| 角色标识 | 系统内部标识名     |
| 显示名称 | 用户可见名称       |
| 描述     | 角色说明           |
| 系统角色 | 是否为系统内置角色 |
| 权限数量 | 分配的权限数量     |
| 权限列表 | 权限名称列表       |
| 创建时间 | 角色创建时间       |

## 技术实现

### 代码位置

```
web/src/pages/admin/roles/
├── index.vue                           # 添加导出按钮
└── composables/
    └── useRoles.ts                     # 添加 exportRoles 方法
```

### 使用方式

1. 进入角色管理页面 `/admin/roles`
2. 可选：输入搜索条件筛选角色
3. 点击"导出"按钮
4. 浏览器自动下载 CSV 文件

## 复用说明

该功能复用了 `@/utils/export.ts` 的通用 CSV 导出工具，与用户导出、审计日志导出保持一致的技术实现。
