# 示例配置文件
# 复制此文件为 config.yaml 并根据需要修改
#
# 此文件与 internal/infrastructure/config/config.go 中的 defaultConfig() 保持同步
# 所有配置项都可以通过环境变量覆盖（环境变量前缀：APP_）
# 例如：APP_SERVER_ADDR=:8080 会覆盖 server.addr 的值

# 服务器配置
server:
  addr: "0.0.0.0:8080" # 监听地址，格式: host:port，例如 "0.0.0.0:8080" 或 ":8080"
  env: "development" # 运行环境: development | production
  static_dir: "web/dist" # 静态资源目录路径，用于提供前端文件服务（如 SPA 应用）
  docs_dir: "docs/.vitepress/dist" # 文档目录路径，用于提供 VitePress 构建的文档服务，通过 /docs 路由访问

# 数据源配置
data:
  pgsql_url: "postgresql://postgres@localhost:5432/myapp?sslmode=disable" # PostgreSQL 连接 URL，格式: postgresql://user:password@host:port/dbname?sslmode=disable
  redis_url: "redis://localhost:6379/0" # Redis 连接 URL，格式: redis://:password@host:port/db
  redis_key_prefix: "myapp:" # Redis key 前缀，所有 key 读写都会自动拼接此前缀，例如 "myapp:"
  auto_migrate: false # 是否在应用启动时自动执行数据库迁移（仅推荐在开发环境使用，生产环境应使用 migrate 命令）

# JWT 认证配置
jwt:
  secret: "change-me-in-production" # JWT 签名密钥 - 生产环境务必修改! 建议通过环境变量 APP_JWT_SECRET 设置
  access_token_expiry: "15m" # 访问令牌过期时间（格式: 15m, 1h, 24h 等）
  refresh_token_expiry: "168h" # 刷新令牌过期时间（7天）
